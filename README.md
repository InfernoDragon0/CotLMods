![CotlMiniMods](https://i.imgur.com/YEpxd1c.png)

# Links
- Read more about this mod at my [Website](https://cotlminimod.infernodragon.net/)
- Join the discord server for support, feedback, suggestions and general modding talk: [modding discord](https://discord.gg/MUjww9ndx2)
- [Save Converter](https://cotlminimod.infernodragon.net/saveconverter) (if you are updating from 0.1.6 COTL API to 0.1.7 COTL API and above) 
- If you like the mod, consider donating [here](https://ko-fi.com/infernodragon0)! Thank you for checking out the mod!

### Notes
NOTE: Some functions of the mod has changed due to the Relics of the Old Faith update, read below to find out more!

# v1.2.0: [SEASON 1 FINALE] Empowered Cult
Brief, Finale: The cult has completed their research on the strange material. The strange material looks like it has quickly replicated itself, almost out of control, even the enemies are infected with the strange material. The Lamb has decided that it is time to take control of the strange material and harness its true potential.

### 2 New Rituals!
- **Ritual of Mass Resurrection**: Too many dead followers, no time to revive them all? Now, you can bring every one of them back at one go at the small cost of strange materials.
- **Ritual of Exile**: Too many followers now? Snap them out of existence with a ritual of exile.

### New Tarot Card
- **Strange Extraction**: Enemies killed will drop Strange Material at a 100% chance. Note: You can only collect this card from the Wishing Well custom structure.

### Updated Role!
- **Sous Chef**: Reworked from the old Chef, the Sous Chef will automatically cook signature dishes for the cult when hunger levels reach a certain point. Reduced the time required to cook by ~50%.
- **Astrologer**: Added a config to disable giving quests, so that it only provides strange material. Reduced the time required to complete the task by 66%.

### Updated Structures!
- **Alchemy Table**: Improved the interaction for Alchemy Table. You can now select the necklace you want to cook. Complete the minigame X times successfully to cook the necklace. New necklaces have also been added. The cost of creating necklaces is now free. Increased price of creating the structure to 750 Gold, 25 Strange Material.
- **Study Table**: Improved the interaction for Study Table. The study table now accepts investments of x1500 gold each to increase Strange Material Generation, and will no longer deplete. (Previously, was spend x100 gold to exchange for 1 Strange Material)
- **Waiter Desk**: Reworked to collect food from the Follower Kitchen
- **Follower Kitchen (Vanilla)**: Added interaction to collect food from the Follower Kitchen

### Removals
- Removed Kitchen 1 and 2
- Removed Food Storage 1 and 2

#### End of what's new

# Credits

### Developer
- [InfernoDragon0](https://github.com/InfernoDragon0)

### Artists
- [Klara Chaos](https://instagram.com/klara_chaos?igshid=YmMyMTA2M2Y=): Distribution Ritual, Lucky Narinder Statue
- [ScreenySketches](https://screeny.carrd.co/): Fusion Ritual, Ritual Frenzy
- Scribblekid#0606: Telescope, Ritual Frenzy, Ritual of Youth
- Rimanah#4072: Strange Material v2

### How to Contribute
Feel free to provide more art for any parts of the mod! DM me on Discord: Infernodragon1#1055 or join the discord linked above!

---

![custom structures](https://i.imgur.com/vvpC8He.png)
### Extra Structures
- Wishing Well: Wish upon the wishing well using Gold! Grants you one of two tarot cards as a reward
- Bone / Silk / Crystal Mines: These mines allow your followers to start mining Bone / Silk / Crystals! These mines last indefinitely.
- Food Storage I & II: Store additional food in food storages to prevent rotting!
- Fishing Huts: Each hut can store up to 75 fishes at once.

![text](https://i.imgur.com/w7fceGel.png)
- **Telescope**: Read more at the Astrologer Role
- **Lucky Narinder Statue**: For devoting to narinder. Narinder can devote to it to instantly level up.
- **Study Table**: Read more at the Study Role
- **Endless Pit of Gluttony**: Dead followers can be buried in this pit, unlimited amount of times. Only the Reaper can bury them this way. Currently the player is not able to bury the followers in this pit.
- **Alchemy cauldron**: Select a necklace to create, play a minigame and succeed without failures to create the necklace.

![text](https://i.imgur.com/jehELIR.png)
- **Stasis Chamber**: Uses 50 Strange Energy to freeze time. While you are in base and time is frozen, the stasis chamber will take 10 Strange Energy per true minute.

![text](https://i.imgur.com/G8Zilob.png)
- **AIO Quarry**: Select from 10 different types of materials to collect. A follower will mine the item for you. Left click to collect, Right click to set the type of item to mine. 
- **AIO Incubator**: Choose from several different plants to farm. A Follower will help to farm the item you select.
- **Tree of Giving**: Followers can work here to generate small and medium gifts.

- **Energy Controller**: Transfer energy from generators to structures that uses energy. Currently, you can get energy from Endless Pit and Strange Generator
- **Strange Generator**: Converts Strange Material + Gold into Strange Energy.

### Waiter Desk (Role Proxy)
- Build a waiter desk and your followers will start serving food to other followers!
- Also collects food from Follower Kitchen
- A proxy for the waiter role to be naturally taken up by followers.
- You may build this anywhere, one for each waiter that you require.

### Sous Chef Desk
- You can select 1 of the 10 different dishes that the Sous Chef should cook. 
- No need for manually queueing the meals anymore!

### Follower Management Device
![text](https://i.imgur.com/U3yNhxF.png)
- Lets you spy on your followers
- Assign work commands remotely through the device!

---
![custom commands](https://i.imgur.com/MuTf0Mo.png)
### Misc Commands
- Knucklebones: Play knucklebones with your followers!
- Flip Coin: Flip the coin with your followers and see if you win! (5 coins each)
- Divorce: Too many spouses? Heres a solution!

### Work Commands
- Custom Miners
- Sous Chef (Requires Sous Chef Desk)
- Waiter (Requires Waiter Desk)
- Fisher

---

![custom items](https://i.imgur.com/f4Uyg1g.png)

- **Strange Energy**: An experimental Energy system that can be used to power futuristic structures.
- **Strange Material**: A strange material that is used for rituals and futuristic machines

---

![custom rituals](https://i.imgur.com/UKTgUza.png)

![text](https://i.imgur.com/NbHJTgh.png)
- **Fusion Ritual**: Sacrifice the first selected Follower. The second selected follower gains all of the first follower's traits. Note that traits are mutually exclusive of negative and positives, so stack them wisely (overrides if exist)
- **Distribution Frenzy**: Instantly level up all your followers, at the cost of gold
- **Ritual Frenzy**: Clears all ritual cooldowns immediately, at the cost of gold
- **Ritual of Youth**: Uses the power of the Strange Material. Make all old followers young again. Doubles the affected followers life expectancy. (You need to exit the temple to see the followers change visually) 
- **Ritual of Reversal**: Swaps the first mutually exclusive trait of a follower for its positive counterpart
![text](https://i.imgur.com/1RHe5Rv.gif)
- **Mistletoe Ritual**: Select two followers, and infuse them with the power of the Strange Material to bond them together.




---
![text](https://i.imgur.com/3jmokTt.png)
### Narinder Devotion Role
- Narinder Devotion: Increases faith of the cult when a follower devotes to this statue.

### Strange Material Roles
- Astrologer: See the stars, Gain inspiration. Creates a new quest for the follower if used in the morning. Can use once every day. Provides Strange Material at night
- Study: The follower can study and increase loyalty. Invest in the study table to generate Strange Material.
- Reaper: Followers can now wrap and bury dead followers. You need an endless pit for followers to get this role. Normal Graves will not work.

### Miner Roles
![text](https://i.imgur.com/ySwXcUF.png)
- Followers can now mine Bones, Crystals and Silk.

### Fisher Role
- You can command a follower to fish via "Follower > Fisher" to let them start fishing
- By default, worker followers will navigate to fishing huts to start fishing (when they fish this way, they only give salmon)
- However, using the command, the custom loot table is enabled: (higher chances) Small fish, Fish, (lower chances) Octopus, Lobster, Squid, Blowfish, Crab

### Waiter Role
- (IMPORTANT) There will only be a waiter if you build a Waiter Desk
- The Waiter will serve the food that is on the floor first, then take food from the Follower Kitchen if there is no food on the floor (The food will be thrown on the floor first)
- If you have a Waiter, followers will not run to the food, but instead wait to be served.
- Waiters will only reposition to the follower if they run too far away from their initial spot (7 units away)
- The food will remain on the floor until the follower finishes the food. If you eat it before it reaches the follower, the follower will not get the food.
- Followers "tip" 2 gold on their location upon receiving food
- Followers hunger satiation is increased 2x when served food
- The waiter teleports food from the kitchen

### Sous Chef Role
- (IMPORTANT) There will only be a Sous Chef if you build a Sous Chef Desk
- Select 1 out of 10 food choices, and the sous chef will cook it automatically when followers are hungry.
- A Food bubble will appear on top of the chef if they are currently cooking food.
- Food will first be stored in the available Follower Kitchens, then on the floor.

# Extras
- All you can eat Buffet: Players can now eat as many food items as they want. (Deaths due to excessive eating not covered by insurance.) [Enabled by default]
- Large Shrine: Shrine stores 2000 Souls max instead [Enabled by default]
- Instant Collection: Clicking the Shrine once will grab all the souls instead of just 1 [Enabled by default]
- Skips Intro Cutscene [Enabled by default]
- You can now challenge "The One Who Waits" repeatedly and add more of them to your collection. [Disabled by default]
- Config files available for enabling and disabling any part of the mod.

### Known Issues
- Follower Manager Device: If you assign a task to a follower that cannot be done, they might turn invisible, just re-assign another task.

### Installation
- Paste the plugins folder in BepInEx folder. This mod consist of CotlMiniMods.dll and an Asset folder.

### Requirements
- BepInEx Pack
- COTL API 0.1.17 and above

---
# Previous Lore Entries
### Season 1 Lore
Brief, Episode 3: The followers have continued their research into the Strange Material, it seems to be some form of circuit that can react and turned into energy using gold and other methods. The lamb decides to take advantage of this Strange Material and came up with several different types of exotic machines to be built. It can also be used to perform rituals, infusing the material into followers. Would there be consequences?

Brief, Episode 2: After several months of extraction and research, the followers have found that the strange materials are appearing more often. It seems that the strange material reacts strongly to gold, and sometimes followers as well. The Lamb wishes to use this material to improve the Cult. But what could the strange material be?

Brief, Episode 1: The Lamb has found a strange sphere that seems to have fallen from the sky, could it be a meteorite? The followers have been tasked to study and extract the materials from it, to see if there is anything useful that can be salvaged. The Lamb then provides a few tools for research, such as a study table to read up on known materials, and a telescope to look out for other suspicious sky activities.

# Changelog
### v1.2.0 - Season 1, Finale
- Added Ritual of Mass Resurrection
- Added Ritual of Exile
- Added Sous Chef Role & Desk
- Added ability to take out food from Follower Kitchen
- Added Strange Extraction Tarot Card
- Added Config to enable or disable giving quests via Telescope
- Updated Alchemy Table to give new necklaces
- Updated Waiter Desk to serve from Follower Kitchen
- Changed Study Table interaction
- Fixed an issue with Cooking Fire not able to start manual cooking

### v1.1.6 - Compatiblity Update
- Minor compatibility update for COTL 1.2.1 and COTL API 0.1.17.
- Removed Kitchen 1 and 2
- Sous Chef Desk has changed, you can now interact with it, but not completed yet.

### v1.1.5 - Compatibility Update
- Minor compatibility update for COTL 1.1.4 and COTL API 0.1.16. No extra features.

### v1.1.4 - Mini Christmas Update
- AIO Farmer: The follower will mine from the Incubation Chamber at an extreme rate than normal farms.
- Incubation Chamber: Choose from several different plants to farm. A Follower will help to farm the item you select.
- Tree of Giving: Followers can work here to generate small and medium gifts.
- Mistletoe Ritual: Select two followers, and infuse them with the power of the Strange Material to bond them together.
- Changed Keys for the AIO Quarry to use a custom one, no longer modifies the farm plot data. Same for the new AIO Farmer

### v1.1.3 - Season 1, Episode 3
- Added Strange Energy Mechanic
- Added Stasis chamber, AIO Quarry, Energy Controller, Strange Generator
- Items from mines including the AIO Quarry can be collected much faster now.
- Followers will now move to the side of the mines to work instead of directly on the mine, which makes it easier to interact with the mines.
- Ritual animations have been improved.

### v1.1.2 - Season 1, Episode 2
- Compatible with COTL API 0.1.14
- Added Strange Material item
- Added Ritual of Youth
- Added Strange Material to Study role
- Increased Strange Material yield at night when stargazing
- Added Reaper Role
- Added Alchemy Cauldron
- Added Endless Pit of Gluttony
- Added Config to the in game menu

### v1.1.1
- Compatible with COTL API 0.1.10

### v1.1.0 - Season 1, Episode 1
- Fix waiter role not persisting through food
- Fix softlocked food due to interrupted waiters
- Added Structures: Telescope, Study Table, Narinder Statue
- Added Roles: Astrologer, Study, Narinder Devotion

### v1.0.10
- Hotfix for ritual menu error

### v1.0.9
- Should fix reflection errors
- Remove waiter restriction on follower eating
- Reworked Chef role
- Made waiter and Chef roles natural
- New Structures
- New Rituals
- The waiter role no longer prevents followers from eating food if there is no waiter

### v1.0.8
- Added new structures
- Added new Commands

### v1.0.7
- Folder structure has been changed, upgrading from 1.0.6 and below manually? delete the old dll first!
- Follower Manager Device has been implemented
- There are some leftover code meant for 1.0.8, check known issues.

### v1.0.6
- Kitchen II has been re-implemented
- The new structures now have icons!
- Kitchen and Kitchen II can now be moved.
- New Divine Bell for the Kitchen II (notes above)
- Food Storage is now interactable

### v1.0.5
- Several Waiter buffs, as shown above
- The waiter will now not be required to return to the kitchen to collect the food, instead, will continue serving directly.
- Followers will now "tip" the waiter 2 gold, dropped on their current location.
- The kitchen now goes on fire when the chef starts to cook food to indicate cooking.
- You can now build fishing huts!
- Fishing drop table list can be seen above
- You can now bring more than 1 The One Who Waits home (ideally you should enable this only after you collected him once before)

### v1.0.4
- Bumped COTL API version to 0.1.4 
- Minor bugfix for Reflection Exception that may occur when loading the mod

### v1.0.3
- Config File has been added to tweak this mod to your liking.
- The chef has been repositioned slightly upwards so that he is not inside the cooking pot.
- The chef now has a bubble to show that they are cooking or not.
- New Role: Waiter has been added.
- Challenge The One Who Waits repeatedly (Enable it in the config file first)
- Challenge the Shrimp Chef Rakshasa (untested) repeatedly (Enable it in the config file first)

### v1.0.2
- Kitchens reduce food cost by 50% (minimum 1 per ingredient)
- Players can now eat as much as they want.

### v1.0.1 / v1.0.0
- Initial Release